{% extends 'layoutAdmin.html.twig' %}

{% block title %}
    EditMenu
{% endblock %}

{% block content %}
    <section></section>
    {{ dump(images) }}
    <div class="container p-5">
        <div class="row">
            <div class="col-md-6">
                <form action="/menu/addImage/{{ menu.id }}" method="post" enctype="multipart/form-data">
                <input type="file" name="image_menu" multiple="multiple"/>
                    <input type="checkbox" name="image_thumb" aria-label="Checkbox">
                    <input type="submit" name="submit" id="submit" value="Nouvelle image" />
                    {% if imageErrors.menu_image %}
                    <small id="menu_name_help" class="form-text text-danger">{{ imageErrors.menu_image }}</small>
                {% endif %}
                </form>
            </div>
            {% for image in images %}
            <div class="col-md-2">
                <form action="/menu/updateImage/{{ image.id }}" method="post" enctype="multipart/form-data">
                <img src="{{ image.img_src }}" class="thumbnail" alt="image">
                <input type="checkbox" aria-label="Checkbox">
                <button type="file" name="image_menu" id="submit" class="btn btn-secondary" multiple="multiple"
                        href="/menu/updateImage/{{ image.id }}">Modifier</button>
                <a type="submit" class="btn btn-secondary" href="/menu/deleteOneImage/{{ image.id }}">Supprimer</a>
                </form>
            </div>
            {% endfor %}
        </div>
    </div>

    <div class="container p-5">
    <form method= "post" action="/menu/updateMenu/{{ menu.id }}">
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="menu_name">Nom du menu</label>
                <input name="menu_name" type="text" class="form-control" id="menu_name"
                       value="{% if menu.name %}{{ menu.name }}{% endif %}">
                {% if errors.menu_name %}
                    <small id="menu_name_help" class="form-text text-danger">{{ errors.menu_name }}</small>
                {% endif %}
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="entree">Entr√©e</label>
                <textarea name="menu_starter" type="text" class="form-control" id="entree" rows="3"
                >{% if menu.starter %}{{ menu.starter }}{% endif %}</textarea>
                {% if errors.menu_starter %}
                    <small id="menu_starter_help" class="form-text text-danger">{{ errors.menu_starter }}</small>
                {% endif %}
            </div>
        </div>
        <div class="form-row">
            <div class="form-group col-md-6">
                <label for="plat">Plat</label>
                <textarea name="menu_main_course" type="text" class="form-control" id="plat" rows="3"
                >{% if menu.main_course %}{{ menu.main_course }}{% endif %}</textarea>
                {% if errors.menu_main_course %}
                    <small id="menu_main_course_help" class="form-text text-danger">{{ errors.menu_main_course }}</small>
                {% endif %}
                <div class="form-group pt-4">
                <label for="dessert">Dessert</label>
                <textarea name="menu_dessert" type="text" class="form-control" id="dessert" rows="3"
                >{% if menu.dessert %}{{ menu.dessert }}{% endif %}</textarea>
                {% if errors.menu_dessert %}
                    <small id="menu_menu_dessert_help" class="form-text text-danger">{{ errors.menu_dessert }}</small>
                {% endif %}
                </div>
            </div>
            <div class="form-group col-md-6">
                <label for="description">Description</label>
                <textarea name="menu_description" type="text" class="form-control" id="description" rows="9"
                >{% if menu.description %}{{ menu.description }}{% endif %}
                </textarea>
                {% if errors.menu_description %}
                    <small id="menu_menu_description_help" class="form-text text-danger">{{ errors.menu_description }}</small>
                {% endif %}
        </div>
        </div>
        <button type="submit" class="btn btn-secondary" href="/menu/updateMenu/{{ menu.id }}">Editer</button>
    </form>
    </div>

{% endblock %}